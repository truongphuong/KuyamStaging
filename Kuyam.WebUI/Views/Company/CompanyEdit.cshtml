@model Kuyam.WebUI.Models.CompanySetupModel
@using Kuyam.WebUI.Models;
@using Kuyam.Database;
@{
    ViewBag.Title = "Company Edit";
    Layout = "~/Views/Shared/_KuyamLayoutCompanySetup.cshtml";
}
<script src="@Url.Content("~/Scripts/js/kWidget.getSources.js")" type="text/javascript"></script>
<script type="text/javascript"> 

    function loadSources(partnerId,entryId){   
        kWidget.getSources({
            'partnerId':partnerId,'entryId':entryId,
            'callback': function( data ){		
                
                for( var i in data['sources']){
						var source = data['sources'][i];						
                        //alert(source['src']);
                        //alert(source['data-flavorid']);
                        if(source['data-flavorid']=='iPad'){
                           $("#formobile").append("<video height=\"216\" width=\"302\" controls=\"controls\"><source src=\""+ source['src'] + "\" type=\"video/mp4\"></video>");
                           return;
                        }else{
                           $("#formobile").append("Video converting");
                        }
					}

            }		
        }) 
    }

    $(document).ready(function () {  
        kalturaPartnerId = '@ViewBag.PartnerId'
        var  kattalraentryId ='@ViewBag.EntryId'
        var deviceAgent = navigator.userAgent.toLowerCase();
        var agentID = deviceAgent.match(/(iphone|ipod|android|ipad)/);      
        
        if (agentID) {            
            loadSources(kalturaPartnerId,kattalraentryId);
	        $("#formobile").show();
	        $("#forweb").hide();
        }              
        
        $('.canceldeletecompany').click(function () {
            hideDialog("deletecompanypopup");            
        });
        $('#companyeditform').validate().element($('#cityid'));
        $('#companyeditform').validate().element($('#zipcode'));       
        @ViewBag.PopupString 
 });

    function saveChange(){           
            showDialog('savechangepopup');
            setTimeout("redirectTo('/company/companysetting')",1000);
    }
    function  redirectTo(url){

        window.location.href = url;
    }

 $(function () {          
        
         var streestcompanyname = $('#streestcompanyname').val();       
        if (streestcompanyname == "") {
            $('#streestcompanyname').hide();
            $('#firstline').show();
        } else {
            $('#streestcompanyname').show();
            $('#firstline').hide();
        }
         
        $('#firstline').focus(function () {
            $('#firstline').hide();
            $('#streestcompanyname').show();
            $('#streestcompanyname').css('color', '#333333');
            $('#streestcompanyname').focus();
        });
        $('#streestcompanyname').blur(function () {
            if ($('#streestcompanyname').val() == '') {
                $('#firstline').show();
                $('#firstline').css('color', '#cccccc');
                $('#streestcompanyname').hide();
            }
        });
        
        var secondline = $('#secondline').val();         
        if (secondline == "") {
            $('#secondline').hide();
            $('#defsecondline').show();
        } else {
            $('#secondline').show();
            $('#defsecondline').hide();
        }
        
        $('#defsecondline').focus(function () {
            $('#defsecondline').hide();
            $('#secondline').show();
            $('#secondline').css('color', '#333333');
            $('#secondline').focus();
        });
        $('#secondline').blur(function () {
            if ($('#secondline').val() == '') {
                $('#defsecondline').show();
                $('#defsecondline').css('color', '#cccccc');
                $('#secondline').hide();
            }
        });
       
        var city = $('#cityid').val();         
        if (city == "") {
            $('#cityid').hide();
            $('#defcity').show();
        } else {
            $('#cityid').show();
            $('#defcity').hide();
        }
        
        $('#defcity').focus(function () {
            $('#defcity').hide();
            $('#cityid').show();
            $('#cityid').css('color', '#333333');
            $('#cityid').focus();
        });
        $('#cityid').blur(function () {
            if ($('#cityid').val() == '') {
                $('#defcity').show();
                 $('#defcity').css('color', '#cccccc');
                $('#cityid').hide();
            }
        });
                
        var zipcode = $('#zipcode').val();         
        if (zipcode == "") {
            $('#zipcode').hide();
            $('#defzipcode').show();
        } else {
            $('#zipcode').show();
            $('#defzipcode').hide();
        }
        
        $('#defzipcode').focus(function () {
            $('#defzipcode').hide();
            $('#zipcode').show();
            $('#zipcode').css('color', '#333333');
            $('#zipcode').focus();
        });

        $('#zipcode').blur(function () {
            if ($('#zipcode').val() == '') {
                $('#defzipcode').show();
                 $('#defzipcode').css('color', '#cccccc');
                $('#zipcode').hide();
            }
        });
           
        $('select#categorycompanysetup').selectmenu();
        $('#call').checkBox({ addVisualElement: false });
        $('#mail').checkBox({ addVisualElement: false });
        $("#companyphone").mask("(999) 999-9999");
        $('.photoimg a').lightBox({
            fixedNavigation: true,
            captionText: false
        });        


        $('#editdelcompany').click(function () {
            $("#errordelete").hide();
            $("#txtpassword").val("");
            $("#txtreason").val("");
            showDialog("deletecompanypopup", "btnClose");
        });       


        $('#btnsavechange').click(function () {          
            
            if (validationdata()) {               
                getCategory();
                if (twicePush == 0) {                
                    $('#companyeditform').submit();
                    twicePush = 1;
                 }                 
            }else{               
               
              window.scrollTo(0, 0);
                return false;
            }  
                
        });

        $('#btndelete').click(function () {
            deleteCompany();
        });
    });  

     
    function fadehours() {
        var deviceAgent = navigator.userAgent.toLowerCase();
        var agentID = deviceAgent.match(/(iphone|ipod|android|ipad)/);
        if(agentID){         
            $('#hourfrom, #hourto').scroller({
                preset: 'time',
                theme: 'jqm',
                display: 'modal',
                mode: 'scroller',
                onClose: function () {
                        if(checkhoursvalid(day))
				        {
					        $('#btndailyadd').css("color","#333333");
				        }
				        else
				        {
					        $('#btndailyadd').css("color","#a6a6a6");
				        }	
                 } 
            });
          
        }else{
            
            $('#hourfrom').timepicker({
			    onClose: function(dateText, inst) {
				    if(checkhoursvalid(day))
				    {
					    $('#btndailyadd').css("color","#333333");
				    }
				    else
				    {
					    $('#btndailyadd').css("color","#a6a6a6");
				    }	
			    }	
		    });

		    $('#hourto').timepicker({
			    onClose: function(dateText, inst) {
				    if(checkhoursvalid(day))
				    {
					    $('#btndailyadd').css("color","#333333");
				    }
				    else
				    {
					    $('#btndailyadd').css("color","#a6a6a6");
				    }
			    }	
		    });           
        }

         $('#addhourspopup').fadeToggle(400);
    };

    function getCategory() {
        var totalchoose = $(".catresult span").length;
        var value = '';
        var name = '';
        for (i = 0; i < totalchoose; i++) {
            if (value != '' && i != totalchoose) { value += ','; name += ','; }
            value += $(".catresult span").eq(i).attr("id");
            name += $(".catresult span").eq(i).html();
        }
        $("#hdcategoryname").val(name);
        $("#hdcategory").val(value);
        getMedia();
        getHours();
    }

    function getMedia() {

        var logoid = $("#logocontentfile #hdmediaid").val();
        var photoid = $("#photocontentfile #hdmediaid").val();
        var videoid = $("#videocontentfile #hdmediaid").val();
        var logdata = $("#logocontentfile #hdmediadata").val();
        var photodata = $("#photocontentfile #hdmediadata").val();
        var videodata = $("#videocontentfile #hdmediadata").val();

        if (typeof logoid != "undefined")
            $("#logoid").val(logoid);
        if (typeof photoid != "undefined")
            $("#photoid").val(photoid);
        if (typeof videoid != "undefined")
            $("#videoid").val(videoid);

        $("#logodata").val(logdata);
        $("#photodata").val(photodata);
        $("#videodata").val(videodata);

    }

    function getHours(){
        var totalchoose = $("#editaddhours span").length;      
        var value='';
        for (i = 0; i < totalchoose; i++) {            
           if (value != '' && i != totalchoose) { value += '|';}            
          var tmp=   $.trim($("#editaddhours span").eq(i).attr("id"));
          value+=tmp;
        }       
        $("#hdhour").val(value);
    }


    function deleteCompany() {
        var pass = $("#txtpassword").val();
        var profileId = $("#ProfileID").val();
        var reason = $("#txtreason").val();
        var param = "pass=" + pass + "&profileId=" + profileId + "&reason=" + reason;
        if (pass == "") {
            $("#errordelete").html("Please input password.");
            $("#errordelete").show();
            return false;
        }
        commonPostAjax("Company", "DeleteCompany", param, setdataSucess, callbackError);
    }

    function setdataSucess(result) {

        if (result.status == 0) {
            $("#errordelete").html(result.message);
            $("#errordelete").show();
            return false;
        }
        hideDialog("deletecompanypopup");
        showDialog('deletecompanychangepopup');
        setTimeout("redirectTo('/setting/UserSetting')",1000);
        
    }

    function callbackError(result) {

    }

    function validationdata() {

        var isValid = true;             
        isValid = $('#companyeditform').validate().element($('#streestcompanyname'));
        isValid = ($('#companyeditform').validate().element($('#cityid'))) ? isValid : false;
        isValid = ($('#companyeditform').validate().element($('#zipcode'))) ? isValid : false; 
        isValid = ($('#companyeditform').validate().element($('#companyemail'))) ? isValid : false;
        isValid = ($('#companyeditform').validate().element($('#companyphone'))) ? isValid : false;
        return isValid;
    }
        
    function createAccount(){       
        var line1= $('#streestcompanyname').val();       
        var city =$('#cityid').val().split(',')[0];
        var state =$('#cityid').val().split(',')[1];
        var postalCode =$('#zipcode').val();
        var emailAddress =$('#companyemail').val();
        var homePhoneNumber =$('#companyphone').val();
        var param = "line1="+line1 +"&city="+city+"&state="+state+"&postalCode="+postalCode+"&emailAddress="+emailAddress+"&homePhoneNumber="+ homePhoneNumber;                
          $('#imgLoaderListDetail').show();
         $('#lightBox').css('opacity', '0.6').fadeIn(200); 
        commonPostAjax("Company", "CreateAccountPaypal", param, sendcallbacksucess, setError);
    }

    function  sendcallbacksucess(result){
       window.open(result);
       //window.location=result; 
       $('#imgLoaderListDetail').hide();
       $('#lightBox').css('opacity', '0.6').fadeOut(200);    
       return false;
    }

</script>
<div class="companysetup">
    <h1 class="editbasicinfo">
        company’s basic information</h1>
    <a href="#" class="editdelcompany" id="editdelcompany" title="delete this company">delete
        this company</a>
    <div class="companysetupform">
        <div class="formcol1">
            <div class="rcompanytitle rcom">
                company name</div>
            <div class="clear5">
            </div>
            <div class="rcompanytitle editradd">
                address</div>
            <div class="clear50">
            </div>
            <div class="rcompanytitle rcomemail">
                company e-mail</div>
            <div class="clear11">
            </div>
            <div class="rcompanytitle paypal">
                paypal email</div>
            <div class="clear11">
            </div>
            <div class="rcompanytitle rweb">
                website</div>
            <div class="clear8">
            </div>
            <div class="rcompanytitle rphone">
                phone #</div>
            <div class="clear6">
            </div>
            <div class="rcompanytitle rperson">
                contact person</div>
            <div class="clear13">
            </div>
            <div class="rcompanytitle editbusinesshours">
                business<br />
                hours
                <div class="clear3">
                </div>
                <div>
                    <a href="javascript:void(0);" title="reset" id="btnreset" class="reset">reset</a>
                </div>
            </div>
            <div class="clear">
            </div>
            <div class="rcompanylogo editrcompanylogo">
                company<br />
                logo</div>
            <div class="clear">
            </div>
            <div class="rcompanytitle relative">
                <form id="fileuploadlogo" action="/Upload/LogoUploadHandler.ashx" method="POST" enctype="multipart/form-data">
                <div class="row fileupload-buttonbar">
                    <div class="span7">
                        <span class="btnupload fileinput-button">
                            <input type="file" name="files[]" onchange="$('#logocontentfile').html('')" />
                        </span>
                        <div class="clear">
                        </div>
                        <span class="maxsize">max size 1mb</span>
                    </div>
                </div>
                </form>
            </div>
            <div class="clear">
            </div>
            <div class="rcompanyphoto editrcompanyphoto">
                company<br />
                photo</div>
            <div class="clear">
            </div>
            <div class="rcompanytitle relative">
                <form id="fileuploadphoto" action="/Upload/PhotoUploadHandler.ashx" method="POST"
                enctype="multipart/form-data">
                <div class="row fileupload-buttonbar">
                    <div class="span7">
                        <span class="btnupload fileinput-button">
                            <input type="file" name="files[]" onchange="$('#photocontentfile').html('')" />
                        </span>
                        <div class="clear">
                        </div>
                        <span class="maxsize">max size 1mb</span>
                    </div>
                </div>
                </form>
            </div>
            <div class="clear">
            </div>
            <div class="rcompanyvideo">
                company<br />
                video</div>
            <div class="clear">
            </div>
            <div class="rcompanytitle relative">
                <form id="fileuploadvideo" action="/Upload/VideoUploadHandler.ashx" method="POST"
                enctype="multipart/form-data">
                <div class="row fileupload-buttonbar">
                    <div class="span7">
                        <span class="btnuploadvideo fileinput-button">
                            <input type="file" name="files[]" onchange="$('#photovideocontentfile').html('')" />
                        </span>
                        <div class="clear">
                        </div>
                        <span class="maxsize">max size 100mb</span>
                    </div>
                </div>
                </form>
            </div>
            <div class="clear">
            </div>
            <div class="rcompanyoutube">
                or youtube link:</div>
            <div class="clear">
            </div>
        </div>
        @using (Html.BeginForm("CompanyEdit", "company", FormMethod.Post, new { id = "companyeditform" }))
        {
            <div class="formcol2">
                <div class="formcol2name">
                    <div class="editcompanyname">@Model.Name</div>
                    <input type="hidden" id="Name" name="Name" value="@Model.Name" />
                    <input type="hidden" id="ProfileID" name="ProfileID" value="@Model.ProfileID" />
                </div>
                <div class="clear7">
                </div>
                <div class="formcol2address">
                    <div class="ltxtcompanysetup">
                    </div>
                    <div class="txtcompanysetup txtcompanyname">
                        <input type="text" value="first line for address" class="txtcomactive default" id="firstline" />
                        @Html.TextBoxFor(m => m.Street1, new { @class = "txtcomactive", @id = "streestcompanyname" })
                    </div>
                    <div class="rtxtcompanysetup">
                    </div>
                    <div class="clear">
                    </div>
                    <div class="error">
                        @Html.ValidationMessageFor(m => m.Street1)&nbsp;
                    </div>
                    <div class="clear">
                    </div>
                </div>
                <div class="clear2">
                </div>
                <div class="formcol2saddress">
                    <div class="ltxtcompanysetup">
                    </div>
                    <div class="txtcompanysetup txtsaddress">
                        <input type="text" value="second line" id="defsecondline" class="txtcompanyname default" />
                        @Html.TextBoxFor(m => m.Street2, new { @class = "txtcompanyname", @id = "secondline" })
                    </div>
                    <div class="rtxtcompanysetup">
                    </div>
                    <div class="clear">
                    </div>
                    <div class="error">
                        &nbsp;
                    </div>
                    <div class="clear">
                    </div>
                </div>
                <div class="formcol2city">
                    <div class="ltxtcompanysetup">
                    </div>
                    <div class="txtcompanysetup txtcity">
                        <input type="text" value="city, state" id="defcity" class="txtcomactive default" />
                        @Html.TextBoxFor(m => m.City, new { @class = "txtcomactive", @id = "cityid" })
                    </div>
                    <div class="rtxtcompanysetup">
                    </div>
                    <div class="clear">
                    </div>
                    <div class="error">
                        @Html.ValidationMessageFor(m => m.City)&nbsp;
                    </div>
                    <div class="clear">
                    </div>
                </div>
                <div class="formcol2zip">
                    <div class="ltxtcompanysetup">
                    </div>
                    <div class="txtcompanysetup txtzip">
                        <input type="text" value="zip code" id="defzipcode" class="txtcomactive default" />
                        @Html.TextBoxFor(m => m.Zip, new { @class = "txtcomactive", @id = "zipcode" })
                    </div>
                    <div class="rtxtcompanysetup">
                    </div>
                    <div class="clear">
                    </div>
                    <div class="error">
                        @Html.ValidationMessageFor(m => m.Zip)&nbsp;
                    </div>
                    <div class="clear">
                    </div>
                </div>
                <div class="clear2">
                </div>
                <div class="formcol2address">
                    <div class="divtxtemail">
                        <div class="ltxtcompanysetup">
                        </div>
                        <div class="txtcompanysetup txtcompanyemail">
                            @Html.TextBoxFor(m => m.Email, new { @class = "txtcompanyemail", @id = "companyemail" })
                        </div>
                        <div class="rtxtcompanysetup">
                        </div>
                    </div>
                    <div class="divcompanyemail">
                        (for appointment updates)</div>
                    <div class="clear">
                    </div>
                    <div class="error">
                        @Html.ValidationMessageFor(m => m.Email)&nbsp;
                    </div>
                    <div class="clear">
                    </div>
                </div>
                <div class="clear2">
                </div>
                <div class="formcol2web">
                    <div class="editformcol2webtxt">
                        <div class="ltxtcompanysetup">
                        </div>
                        <div class="txtcompanysetup edittxtweb">
                            @Html.TextBoxFor(m => m.PaymentOptions, new { @id = "PaymentOptions" })
                        </div>
                        <div class="rtxtcompanysetup">
                        </div>
                        <div class="clear">
                        </div>
                        <div class="createpaypal">
                            <a href="@ViewBag.PaypalAccountlink" target="_blank" title="create account paypal">If you do not have one, click
                                on this link to create new paypal account</a>
                        </div>
                        <div class="clear">
                        </div>
                        <div class="error">
                            &nbsp;
                        </div>
                        <div class="ltxtcompanysetup">
                        </div>
                        <div class="txtcompanysetup edittxtweb">
                            @Html.TextBoxFor(m => m.Url)
                        </div>
                        <div class="rtxtcompanysetup">
                        </div>
                        <div class="clear">
                        </div>
                        <div class="error">
                            &nbsp;
                        </div>
                        <div class="clear2">
                        </div>
                        <div class="ltxtcompanysetup">
                        </div>
                        <div class="txtcompanysetup txtweb">
                            @Html.TextBoxFor(m => m.Phone, new { @id = "companyphone" })
                        </div>
                        <div class="rtxtcompanysetup">
                        </div>
                        <div class="clear">
                        </div>
                        <div class="error">
                            @Html.ValidationMessageFor(m => m.Phone)&nbsp;
                        </div>
                        <div class="clear2">
                        </div>
                        <div class="ltxtcompanysetup">
                        </div>
                        <div class="txtcompanysetup txtweb">
                            @Html.TextBoxFor(m => m.ContactName)
                        </div>
                        <div class="rtxtcompanysetup">
                        </div>
                        <div class="clear">
                        </div>
                        <div class="error">
                            &nbsp;
                        </div>
                        <div class="clear">
                        </div>
                    </div>
                </div>
                <div class="clear">
                </div>
                <div class="editbtnaddhours">
                    <div id="addhourspopup" class="addhourspopup">
                        <div class="hourspopup">
                            <div id="dayofweek" class="dayofweek">
                                <a href="javascript:void(0);" id="monday" class="btnday" title="monday">mon</a>
                                <a href="javascript:void(0);" id="tuesday" class="btnday" title="tuesday">tue</a>
                                <a href="javascript:void(0);" id="wednesday" class="btnday" title="wednesday">wed</a>
                                <a href="javascript:void(0);" id="thursday" class="btnday" title="thursday">thu</a>
                                <a href="javascript:void(0);" id="friday" class="btnday" title="friday">fri</a>
                                <a href="javascript:void(0);" id="satday" class="btnday" title="satday">sat</a>
                                <a href="javascript:void(0);" id="sunday" class="btnday" title="sunday">sun</a>
                            </div>
                            <div class="clear">
                            </div>
                            <div class="fromto">
                                <div class="fromtitle">
                                    from</div>
                                <div class="fromtoinput">
                                    <div class="ltxtcompanysetup">
                                    </div>
                                    <div class="txtcompanysetup txtfrom">
                                        <input type="text" value="" readonly="readonly" id="hourfrom" class="txtcompanyname" />
                                    </div>
                                    <div class="rtxtcompanysetup">
                                    </div>
                                </div>
                                <div class="totitle">
                                    to</div>
                                <div class="fromtoinput">
                                    <div class="ltxtcompanysetup">
                                    </div>
                                    <div class="txtcompanysetup txtfrom">
                                        <input type="text" value="" readonly="readonly" id="hourto" class="txtcompanyname" />
                                    </div>
                                    <div class="rtxtcompanysetup">
                                    </div>
                                </div>
                            </div>
                            <div class="clear">
                            </div>
                            <div class="daily">
                                <div class="dailytitle">
                                    <input id="cbAvailable" onfocus="this.blur();" type="checkbox" /><label for="cbAvailable"
                                        class="ctext">daily?</label>
                                </div>
                                <div class="btndaily">
                                    <a href="javascript:void(0);" id="btndailyadd" class="btndailyadd" title="add">+add</a>
                                    <a href="javascript:void(0);" id="btndailycancel" class="btndailycancel" title="cancel">
                                        cancel</a>
                                </div>
                            </div>
                            <div class="clear">
                            </div>
                        </div>
                    </div>
                    <a href="javascript: fadehours();" id="addhours" class="addhours" title="add hours">
                    </a>
                    <div class="editaddhours" id="editaddhours">
                        @if (Model.Companylist != null)
                        {
                            foreach (Companylist item in Model.Companylist)
                            { 
                            <span id="@item.CompanyID" style="float:right;" >@item.CompanyNam</span>  
                            <br />                                                      
                            }
                        }
                    </div>
                </div>
                <div class="categories editcategories">
                    <div class="titlecategories">
                        <strong>categories</strong>&nbsp;&nbsp;<i>(your search tags)</i>
                    </div>
                    <div class="clear">
                    </div>
                    <div class="addcategories">
                        <ul>
                            <li>
                                @Html.DropDownListFor(m => m.ServiceID, Model.CategoryCompany, new { @id = "categorycompanysetup", @class = "selectcategories" })
                            </li>
                        </ul>
                    </div>
                    <input type="hidden" id="hdcategory" name="hdcategory" value="" />
                    <input type="hidden" id="hdhour" name="hdhour" value="" />
                    <input type="hidden" id="logoid" name="LogoID" value="0" />
                    <input type="hidden" id="photoid" name="PhotoID" value="0" />
                    <input type="hidden" id="videoid" name="VideoID" value="0" />
                    <input type="hidden" id="logodata" name="LogoData" value="" />
                    <input type="hidden" id="photodata" name="PhotoData" value="" />
                    <input type="hidden" id="videodata" name="VideoData" value="" />
                    <div class="divaddselect">
                        <a href="javascript:void(0);" class="addselect" title="add" id="addcategories">+add</a>
                        <div class="clear4">
                        </div>
                        &nbsp;<a href="javascript:void(0);" class="addselect" title="delete" id="deletecategories">delete</a>
                    </div>
                    <div class="clear">
                    </div>
                    <div class="catresult">
                        @if (Model.Categories != null)
                        {
                            int i = 0;
                            foreach (Category item in Model.Categories)
                            {
                                i++;
                            <span id="@item.CategoryID">@item.NamCategory</span>
                                if (Model.Categories.Count() != i)
                                {
                            <label id="@item.CategoryID.ToString()1">
                                ,</label>   
                                }
                            }
                        }
                    </div>
                </div>
                <div class="clear">
                </div>
                <div class="clear">
                </div>
                <div class="rcompanytitle logoimage">
                    <div class="companylogo">
                        <div id="logocontentfile">
                            @if (!string.IsNullOrEmpty(Model.LogoData))
                            {
                                <span class="boxcontentimg" style="height: 82px; width: 82px;"><span class="boximage">
                                    <img alt="logo" src="@Types.KaturaDoman/p/811441/thumbnail/entry_id/@Model.LogoData/width/99/height/99"/>
                                </span></span>
                                <input id="hdmediaid" class="in" type="hidden" value="@Model.LogoID" name="hdmediaid" />
                                <input id="hdmediadata" class="in" type="hidden" value="@Model.LogoData" name="hdmediadata" />
                                
                                <script type="text/javascript">
                                    $('.companylogo').css('background-image', 'none');
                                </script>
                            }
                        </div>
                        <div class="waiting">
                            <img id="imgLoaderlogo" src="../../Images/progress.gif" alt="progress..." />
                        </div>
                    </div>
                    <div class="logonote">
                        please only use your company logo.</div>
                </div>
                <div class="clear">
                </div>
                <div class="companyphoto">
                    <div class="photoimg">
                        <div class="photo" id="photocontentfile">
                            @if (!string.IsNullOrEmpty(Model.PhotoData))
                            {
                                <span class="boxcontentimg" style="height: 215px; width: 302px;"><span class="boximage">
                                    <img alt="photo"  src="@Types.KaturaDoman/p/811441/thumbnail/entry_id/@Model.PhotoData/width/302/height/216"/>
                                </span></span>
                                <input id="hdmediaid" class="in" type="hidden" value="@Model.PhotoID" name="hdmediaid" />
                                <input id="hdmediadata" class="in" type="hidden" value="@Model.PhotoData" name="hdmediadata" />
                                <script type="text/javascript">
                                    $('.photo').css('background-image', 'none');
                                </script>
                            }
                        </div>
                        <div class="waitingphoto">
                            <img id="imgLoaderphoto" src="../../Images/progress.gif" alt="progress..." />
                        </div>
                    </div>
                    <div class="photonote">
                        original content only.<br />
                        only upload a photo
                        <br />
                        you’ve purchased or
                        <br />
                        taken for your company.</div>
                </div>
                <div class="clear">
                </div>
                <div class="companyphoto">
                    <div class="photoimg photovideo">
                        <div class="video" id="videocontentfile">
                           <div id="formobile" class="displaynone"></div>
                            @if (!string.IsNullOrEmpty(Model.VideoData))
                            {                               
                                <div id="forweb">
                                    @Model.FlashData
                                </div>
                                <input id="hdmediaid" class="in" type="hidden" value="@Model.VideoID" name="hdmediaid" />
                                <input id="hdmediadata" class="in" type="hidden" value="@Model.VideoData" name="hdmediadata" />
                            }
                        </div>
                        <div class="waitingvideo">
                            <img id="imgLoadervideo" src="../../Images/progress.gif" alt="progress..." />
                        </div>
                    </div>
                    <div class="photonote videonote">
                        original content only.<br />
                        we want to know your story.
                        <br />
                        how did you get into this
                        <br />
                        business? what are you
                        <br />
                        passionate about?</div>
                </div>
                <div class="clear">
                </div>
                <div class="youtubelink">
                    <div class="ltxtcompanysetup">
                    </div>
                    <div class="txtcompanysetup txtyoutubelink">
                        @Html.TextBoxFor(m => m.Youtubelink)
                    </div>
                    <div class="rtxtcompanysetup">
                    </div>
                </div>
                <div class="clear">
                </div>
            </div>
            <div class="clear">
            </div>

        }
    </div>
    <div class="editcompanysetupbutton">
        <a id="btnsavechange" class="btnsavechange" title="save changes">save changes</a>
        <div class="clear7">
        </div>
        <a href="/Company/CompanySetting/" class="btncancelchange" title="cancel">cancel</a>
    </div>
    <div class="clear">
    </div>
    <div id="lightBox" class="lightBox">
    </div>
    <div id="deletecompanypopup" class="comfirmationpopup" style="height: 392px;">
        <div class="contentPopup">
            <a class="btnClose" href="JavaScript:void(0);" title="Close"></a>
            <div class="deletecompanypopup">
                <div class="deltitle">
                    are you sure you want to delete this company?</div>
                <div class="delcancel">
                    if no, <a href="JavaScript:void(0);" class="canceldeletecompany" title="cancel">cancel</a></div>
                <div class="delyes">
                    if yes, please enter your password:</div>
                <div class="deltxt">
                    <input type="password" id="txtpassword" /></div>
                <div class="error">
                    <div id="errordelete" class="errordelete">
                    </div>
                </div>
                <div class="delreason">
                    reason for deletion:
                </div>
                <div class="delreasontext">
                    <textarea id="txtreason" class="textarea" rows="3" cols="5"></textarea></div>
                <div class="clear">
                </div>
                <a href="#" id="btndelete" class="btncancel" title="delete this company"></a>
                <div class="clear">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="clear">
</div>

<!-- The template to display files available for upload -->
<script id="template-upload" type="text/x-tmpl">
{% for (var i=0, file; file=o.files[i]; i++) { %}   
        <div class="preview"><span class="fade"></span></div>       
        {% if (file.error) { %}
            <div class="error" colspan="2"><span class="label label-important">{%=locale.fileupload.error%}</span> {%=locale.fileupload.errors[file.error] || file.error%}</div>
        {% } %}      

{% } %}

</script>
<!-- The template to display files available for download -->
<script id="template-download" type="text/x-tmpl">
{% for (var i=0, file; file=o.files[i]; i++) { %}    
        {% if (file.error) { %}           
            <div class="error" colspan="2"><span class="label label-important">{%=locale.fileupload.error%}</span> {%=locale.fileupload.errors[file.error] || file.error%}</div>
        {% } else { %}
            <div class="preview">{% if (file.thumbnail_url) { %}<span class="boxcontentimg" style="height: 99px; width: 99px;"><span class="boximage"><img src="@Kuyam.Database.Types.KaturaDoman/p/811441/thumbnail/entry_id/{%=file.kalturaid%}/width/99/height/100"/></span></span> {% } %}</div>
            <input type="hidden" id="hdmediaid" name="hdmediaid" value="{%=file.mediaid%}" />
            <input type="hidden" id="hdmediadata" name="hdmediadata" value="{%=file.thumbnail_url%}" />        
        {% } %}
{% } %}
</script>

<script id="company-photo-template-download" type="text/x-tmpl">
{% for (var i=0, file; file=o.files[i]; i++) { %}    
        {% if (file.error) { %}           
            <div class="error" colspan="2"><span class="label label-important">{%=locale.fileupload.error%}</span> {%=locale.fileupload.errors[file.error] || file.error%}</div>
        {% } else { %}
            <div class="preview">{% if (file.thumbnail_url) { %} <span class="boxcontentimg" style="height: 215px; width: 302px;"><span class="boximage"><img src="@Kuyam.Database.Types.KaturaDoman/p/811441/thumbnail/entry_id/{%=file.kalturaid%}/width/302/height/216"/></span></span> {% } %}</div>
            <input type="hidden" id="hdmediaid" name="hdmediaid" value="{%=file.mediaid%}" />
            <input type="hidden" id="hdmediadata" name="hdmediadata" value="{%=file.thumbnail_url%}" />        
        {% } %}
{% } %}
</script>
<div id="savechangepopup" class="savechangepopup">
    <div class="contentpopup">
        <p>
            your changes are saved...
        </p>
    </div>
</div>
<div id="deletecompanychangepopup" class="savechangepopup">
    <div class="contentpopup">
        <p>
            Delete Success.
        </p>
    </div>
</div>
<img id="imgLoaderListDetail" src="../../Images/progress.gif" class="waitingPaypal" alt="loading..." />
<div id="lightBox" class="lightBox">
</div>
