/*

 FullCalendar v1.5.4
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Thu Dec 13 20:13:37 2012 +0200

*/
(function(n,la){function yb(a){n.extend(true,$a,a)}function ac(a,b,f){function d(q){if(D){w();r();sa();Q(q)}else g()}function g(){C=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");D=n("<div class='fc-content' style='position:relative'/>").prependTo(a);l=new bc(W,b);(J=l.render())&&a.prepend(J);z(b.defaultView);n(window).resize(ma);u()||i()}function i(){setTimeout(function(){!k.start&&u()&&Q()},0)}function m(){n(window).unbind("resize",ma);l.destroy();
D.remove();a.removeClass("fc fc-rtl ui-widget")}function j(){return e.offsetWidth!==0}function u(){return n("body")[0].offsetWidth!==0}function z(q){if(!k||q!=k.name){E++;pa();var M=k,ba;if(M){(M.beforeHide||zb)();ab(D,D.height());M.element.hide()}else ab(D,1);D.css("overflow","hidden");if(k=Y[q])k.element.show();else k=Y[q]=new La[q](ba=v=n("<div class='fc-view fc-view-"+q+"' style='position:absolute'/>").appendTo(D),W);M&&l.deactivateButton(M.name);l.activateButton(q);Q();D.css("overflow","");M&&
ab(D,1);ba||(k.afterShow||zb)();E--}}function Q(q){if(j()){E++;pa();o===la&&w();var M=false;if(!k.start||q||s<k.start||s>=k.end){k.render(s,q||0);ga(true);M=true}else if(k.sizeDirty){k.clearEvents();ga();M=true}else if(k.eventsDirty){k.clearEvents();M=true}k.sizeDirty=false;k.eventsDirty=false;ja(M);X=a.outerWidth();l.updateTitle(k.title);q=new Date;q>=k.start&&q<k.end?l.disableButton("today"):l.enableButton("today");E--;k.trigger("viewDisplay",e)}}function O(){r();if(j()){w();ga();pa();k.clearEvents();
k.renderEvents(K);k.sizeDirty=false}}function r(){n.each(Y,function(q,M){M.sizeDirty=true})}function w(){o=b.contentHeight?b.contentHeight:b.height?b.height-(J?J.height():0)-Ua(D):Math.round(D.width()/Math.max(b.aspectRatio,0.5))}function ga(q){E++;k.setHeight(o,q);if(v){v.css("position","relative");v=null}k.setWidth(D.width(),q);E--}function ma(){if(!E)if(k.start){var q=++y;setTimeout(function(){if(q==y&&!E&&j())if(X!=(X=a.outerWidth())){E++;O();k.trigger("windowResize",e);E--}},200)}else i()}function ja(q){if(!b.lazyFetching||
wa(k.visStart,k.visEnd))qa();else q&&da()}function qa(){ua(k.visStart,k.visEnd)}function ra(q){K=q;da()}function ia(q){da(q)}function da(q){sa();if(j()){k.clearEvents();k.renderEvents(K,q);k.eventsDirty=false;k.renderAnnotations(R)}}function sa(){n.each(Y,function(q,M){M.eventsDirty=true})}function ta(q,M,ba){k.select(q,M,ba===la?true:ba)}function pa(){k&&k.unselect()}function U(){Q(-1)}function ha(){Q(1)}function ea(){ib(s,-1);Q()}function na(){ib(s,1);Q()}function G(){s=new Date;Q()}function p(q,
M,ba){if(q instanceof Date)s=N(q);else Ab(s,q,M,ba);Q()}function L(q,M,ba){q!==la&&ib(s,q);M!==la&&jb(s,M);ba!==la&&$(s,ba);Q()}function c(){return N(s)}function B(){return k}function F(q,M){if(M===la)return b[q];if(q=="height"||q=="contentHeight"||q=="aspectRatio"){b[q]=M;O()}}function S(q,M){if(b[q])return b[q].apply(M||e,Array.prototype.slice.call(arguments,2))}var W=this;W.options=b;W.render=d;W.destroy=m;W.refetchEvents=qa;W.reportEvents=ra;W.reportEventChange=ia;W.rerenderEvents=da;W.changeView=
z;W.select=ta;W.unselect=pa;W.prev=U;W.next=ha;W.prevYear=ea;W.nextYear=na;W.today=G;W.gotoDate=p;W.incrementDate=L;W.formatDate=function(q,M){return Qa(q,M,b)};W.formatDates=function(q,M,ba){return kb(q,M,ba,b)};W.getDate=c;W.getView=B;W.option=F;W.trigger=S;cc.call(W,b,f);var wa=W.isFetchNeeded,ua=W.fetchEvents,e=a[0],l,J,D,C,k,Y={},X,o,v,y=0,E=0,s=new Date,K=[],R=W.options.annotations,V;Ab(s,b.year,b.month,b.date);b.droppable&&n(document).bind("dragstart",function(q,M){var ba=q.target,ca=n(ba);
if(!ca.parents(".fc").length){var ka=b.dropAccept;if(n.isFunction(ka)?ka.call(ba,ca):ca.is(ka)){V=ba;k.dragStart(V,q,M)}}}).bind("dragstop",function(q,M){if(V){k.dragStop(V,q,M);V=null}})}function bc(a,b){function f(){r=b.theme?"ui":"fc";if(b.header)return O=n("<table class='fc-header' style='width:100%'/>").append(n("<tr/>").append(g("left")).append(g("center")).append(g("right")))}function d(){O.remove()}function g(w){var ga=n("<td class='fc-header-"+w+"'/>");(w=b.header[w])&&n.each(w.split(" "),
function(ma){ma>0&&ga.append("<span class='fc-header-space'/>");var ja;n.each(this.split(","),function(qa,ra){if(ra=="title"){ga.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ja&&ja.addClass(r+"-corner-right");ja=null}else{var ia;if(a[ra])ia=a[ra];else if(La[ra])ia=function(){sa.removeClass(r+"-state-hover");a.changeView(ra)};if(ia){qa=b.theme?lb(b.buttonIcons,ra):null;var da=lb(b.buttonText,ra),sa=n("<span class='fc-button fc-button-"+ra+" "+r+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+
(qa?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+qa+"'/></span>":da)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(sa){sa.click(function(){sa.hasClass(r+"-state-disabled")||ia()}).mousedown(function(){sa.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-down")}).mouseup(function(){sa.removeClass(r+"-state-down")}).hover(function(){sa.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-hover")},function(){sa.removeClass(r+
"-state-hover").removeClass(r+"-state-down")}).appendTo(ga);ja||sa.addClass(r+"-corner-left");ja=sa}}}});ja&&ja.addClass(r+"-corner-right")});return ga}function i(w){O.find("h2").html(w)}function m(w){O.find("span.fc-button-"+w).addClass(r+"-state-active")}function j(w){O.find("span.fc-button-"+w).removeClass(r+"-state-active")}function u(w){O.find("span.fc-button-"+w).addClass(r+"-state-disabled")}function z(w){O.find("span.fc-button-"+w).removeClass(r+"-state-disabled")}var Q=this;Q.render=f;Q.destroy=
d;Q.updateTitle=i;Q.activateButton=m;Q.deactivateButton=j;Q.disableButton=u;Q.enableButton=z;var O=n([]),r}function cc(a,b){function f(c,B){return!ha||c<ha||B>ea}function d(c,B){ha=c;ea=B;L=[];c=++na;G=B=U.length;for(var F=0;F<B;F++)g(U[F],c)}function g(c,B){i(c,function(F){if(B==na){if(F){for(var S=0;S<F.length;S++){F[S].source=c;ma(F[S])}L=L.concat(F)}G--;G||ta(L)}})}function i(c,B){var F,S=Ca.sourceFetchers,W;for(F=0;F<S.length;F++){W=S[F](c,ha,ea,B);if(W===true)return;else if(typeof W=="object"){i(W,
B);return}}if(F=c.events)if(n.isFunction(F)){w();F(N(ha),N(ea),function(l){B(l);ga()})}else n.isArray(F)?B(F):B();else if(c.url){var wa=c.success,ua=c.error,e=c.complete;F=n.extend({},c.data||{});S=Va(c.startParam,a.startParam);W=Va(c.endParam,a.endParam);if(S)F[S]=Math.round(+ha/1E3);if(W)F[W]=Math.round(+ea/1E3);w();n.ajax(n.extend({},dc,c,{data:F,success:function(l){l=l||[];var J=bb(wa,this,arguments);if(n.isArray(J))l=J;B(l)},error:function(){bb(ua,this,arguments);B()},complete:function(){bb(e,
this,arguments);ga()}}))}else B()}function m(c){if(c=j(c)){G++;g(c,na)}}function j(c){if(n.isFunction(c)||n.isArray(c))c={events:c};else if(typeof c=="string")c={url:c};if(typeof c=="object"){ja(c);U.push(c);return c}}function u(c){U=n.grep(U,function(B){return!qa(B,c)});L=n.grep(L,function(B){return!qa(B.source,c)});ta(L)}function z(c){var B,F=L.length,S,W=sa().defaultEventEnd,wa=c.start-c._start,ua=c.end?c.end-(c._end||W(c)):0;for(B=0;B<F;B++){S=L[B];if(S._id==c._id&&S!=c){S.start=new Date(+S.start+
wa);S.end=c.end?S.end?new Date(+S.end+ua):new Date(+W(S)+ua):null;S.title=c.title;S.url=c.url;S.allDay=c.allDay;S.className=c.className;S.editable=c.editable;S.color=c.color;S.backgroudColor=c.backgroudColor;S.borderColor=c.borderColor;S.textColor=c.textColor;ma(S)}}ma(c);ta(L)}function Q(c,B){ma(c);if(!c.source){if(B){pa.events.push(c);c.source=pa}L.push(c)}ta(L)}function O(c){if(c){if(!n.isFunction(c)){var B=c+"";c=function(S){return S._id==B}}L=n.grep(L,c,true);for(F=0;F<U.length;F++)if(n.isArray(U[F].events))U[F].events=
n.grep(U[F].events,c,true)}else{L=[];for(var F=0;F<U.length;F++)if(n.isArray(U[F].events))U[F].events=[]}ta(L)}function r(c){if(n.isFunction(c))return n.grep(L,c);else if(c){c+="";return n.grep(L,function(B){return B._id==c})}return L}function w(){p++||da("loading",null,true)}function ga(){--p||da("loading",null,false)}function ma(c){var B=c.source||{},F=Va(B.ignoreTimezone,a.ignoreTimezone);c._id=c._id||(c.id===la?"_fc"+ec++:c.id+"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=N(c.start=
mb(c.start,F));c.end=mb(c.end,F);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?N(c.end):null;if(c.allDay===la)c.allDay=Va(B.allDayDefault,a.allDayDefault);if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}function ja(c){if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[];for(var B=Ca.sourceNormalizers,F=0;F<B.length;F++)B[F](c)}function qa(c,B){return c&&B&&ra(c)==ra(B)}function ra(c){return(typeof c==
"object"?c.events||c.url:"")||c}var ia=this;ia.isFetchNeeded=f;ia.fetchEvents=d;ia.addEventSource=m;ia.removeEventSource=u;ia.updateEvent=z;ia.renderEvent=Q;ia.removeEvents=O;ia.clientEvents=r;ia.normalizeEvent=ma;var da=ia.trigger,sa=ia.getView,ta=ia.reportEvents,pa={events:[]},U=[pa],ha,ea,na=0,G=0,p=0,L=[];for(ia=0;ia<b.length;ia++)j(b[ia])}function ib(a,b,f){a.setFullYear(a.getFullYear()+b);f||Ma(a);return a}function jb(a,b,f){if(+a){b=a.getMonth()+b;var d=N(a);d.setDate(1);d.setMonth(b);a.setMonth(b);
for(f||Ma(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function $(a,b,f){if(+a){b=a.getDate()+b;var d=N(a);d.setHours(9);d.setDate(b);a.setDate(b);f||Ma(a);nb(a,d)}return a}function nb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*fc)}function va(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ma(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function N(a,b){if(b)return Ma(new Date(+a));return new Date(+a)}function Bb(){var a=
0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Ha(a,b,f){for(b=b||1;!a.getDay()||f&&a.getDay()==1||!f&&a.getDay()==6;)$(a,b);return a}function Ea(a,b){return Math.round((N(a,true)-N(b,true))/Cb)}function Ab(a,b,f,d){if(b!==la&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(f!==la&&f!=a.getMonth()){a.setDate(1);a.setMonth(f)}d!==la&&a.setDate(d)}function mb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*
1E3);if(b===la)b=true;return Db(a,b)||(a?new Date(a):null)}return null}function Db(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var f=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){f.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){f.setDate(a[5]);b.setDate(a[5])}nb(f,b);a[7]&&f.setHours(a[7]);a[8]&&f.setMinutes(a[8]);a[10]&&f.setSeconds(a[10]);a[12]&&f.setMilliseconds(Number("0."+
a[12])*1E3);nb(f,b)}else{f.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);f.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;f=new Date(+f+b*60*1E3)}}return f}function ob(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],
10):0)}}function Qa(a,b,f){return kb(a,null,b,f)}function kb(a,b,f,d){d=d||$a;var g=a,i=b,m,j=f.length,u,z,Q,O="";for(m=0;m<j;m++){u=f.charAt(m);if(u=="'")for(z=m+1;z<j;z++){if(f.charAt(z)=="'"){if(g){O+=z==m+1?"'":f.substring(m+1,z);m=z}break}}else if(u=="(")for(z=m+1;z<j;z++){if(f.charAt(z)==")"){m=Qa(g,f.substring(m+1,z),d);if(parseInt(m.replace(/\D/,""),10))O+=m;m=z;break}}else if(u=="[")for(z=m+1;z<j;z++){if(f.charAt(z)=="]"){u=f.substring(m+1,z);m=Qa(g,u,d);if(m!=Qa(i,u,d))O+=m;m=z;break}}else if(u==
"{"){g=b;i=a}else if(u=="}"){g=a;i=b}else{for(z=j;z>m;z--)if(Q=gc[f.substring(m,z)]){if(g)O+=Q(g,d);m=z-1;break}if(z==m)if(g)O+=u}}return O}function Wa(a){return a.end?hc(a.end,a.allDay):$(N(a.start),1)}function hc(a,b){a=N(a);return b||a.getHours()||a.getMinutes()?$(a,1):Ma(a)}function ic(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Eb(a,b){return a.end>b.start&&a.start<b.end}function pb(a,b,f,d){var g=[],i,m=a.length,j,u,z,Q,O;for(i=0;i<m;i++){j=a[i];u=j.start;z=
b[i];if(z>f&&u<d){if(u<f){u=N(f);Q=false}else{u=u;Q=true}if(z>d){z=N(d);O=false}else{z=z;O=true}g.push({event:j,start:u,end:z,isStart:Q,isEnd:O,msLength:z-u})}}return g.sort(ic)}function qb(a){var b=[],f,d=a.length,g,i,m,j;for(f=0;f<d;f++){g=a[f];for(i=0;;){m=false;if(b[i])for(j=0;j<b[i].length;j++)if(Eb(b[i][j],g)){m=true;break}if(m)i++;else break}if(b[i])b[i].push(g);else b[i]=[g]}return b}function Fb(a,b,f){a.unbind("mouseover").mouseover(function(d){for(var g=d.target,i;g!=this;){i=g;g=g.parentNode}if((g=
i._fci)!==la){i._fci=la;i=b[g];f(i.event,i.element,i);n(d.target).trigger(d)}d.stopPropagation()})}function Xa(a,b,f){for(var d=0,g;d<a.length;d++){g=n(a[d]);g.width(Math.max(0,b-rb(g,f)))}}function Gb(a,b,f){for(var d=0,g;d<a.length;d++){g=n(a[d]);g.height(Math.max(0,b-Ua(g,f)))}}function rb(a,b){return jc(a)+kc(a)+(b?lc(a):0)}function jc(a){return(parseFloat(n.css(a[0],"paddingLeft",true))||0)+(parseFloat(n.css(a[0],"paddingRight",true))||0)}function lc(a){return(parseFloat(n.css(a[0],"marginLeft",
true))||0)+(parseFloat(n.css(a[0],"marginRight",true))||0)}function kc(a){return(parseFloat(n.css(a[0],"borderLeftWidth",true))||0)+(parseFloat(n.css(a[0],"borderRightWidth",true))||0)}function Ua(a,b){return mc(a)+nc(a)+(b?Hb(a):0)}function mc(a){return(parseFloat(n.css(a[0],"paddingTop",true))||0)+(parseFloat(n.css(a[0],"paddingBottom",true))||0)}function Hb(a){return(parseFloat(n.css(a[0],"marginTop",true))||0)+(parseFloat(n.css(a[0],"marginBottom",true))||0)}function nc(a){return(parseFloat(n.css(a[0],
"borderTopWidth",true))||0)+(parseFloat(n.css(a[0],"borderBottomWidth",true))||0)}function ab(a,b){b=typeof b=="number"?b+"px":b;a.each(function(f,d){d.style.cssText+=";min-height:"+b+";_height:"+b})}function zb(){}function Ib(a,b){return a-b}function Jb(a){return Math.max.apply(Math,a)}function Ra(a){return(a<10?"0":"")+a}function lb(a,b){if(a[b]!==la)return a[b];b=b.split(/(?=[A-Z])/);for(var f=b.length-1,d;f>=0;f--){d=a[b[f].toLowerCase()];if(d!==la)return d}return a[""]}function Sa(a){return a.replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Kb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function sb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function cb(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}
function tb(a,b){a.each(function(f,d){d.className=d.className.replace(/^fc-\w*/,"fc-"+oc[b.getDay()])})}function Lb(a,b){var f=a.source||{},d=a.color,g=f.color,i=b("eventColor"),m=a.backgroundColor||d||f.backgroundColor||g||b("eventBackgroundColor")||i;d=a.borderColor||d||f.borderColor||g||b("eventBorderColor")||i;a=a.textColor||f.textColor||b("eventTextColor");b=[];m&&b.push("background-color:"+m);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")}function bb(a,b,f){if(n.isFunction(a))a=
[a];if(a){var d,g;for(d=0;d<a.length;d++)g=a[d].apply(b,f)||g;return g}}function Va(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==la)return arguments[a]}function pc(a,b){function f(j,u){if(u){jb(j,u);j.setDate(1)}j=N(j,true);j.setDate(1);u=jb(N(j),1);var z=N(j),Q=N(u),O=g("firstDay"),r=g("weekends")?0:1;if(r){Ha(z);Ha(Q,-1,true)}$(z,-((z.getDay()-Math.max(O,r)+7)%7));$(Q,(7-Q.getDay()+Math.max(O,r))%7);O=Math.round((Q-z)/(Cb*7));if(g("weekMode")=="fixed"){$(Q,(6-O)*7);O=6}d.title=m(j,g("titleFormat"));
d.start=j;d.end=u;d.visStart=z;d.visEnd=Q;i(6,O,r?5:7,true)}var d=this;d.render=f;d.renderAnnotations=function(){};ub.call(d,a,b,"month");var g=d.opt,i=d.renderBasic,m=b.formatDate}function qc(a,b){function f(j,u){u&&$(j,u*7);j=$(N(j),-((j.getDay()-g("firstDay")+7)%7));u=$(N(j),7);var z=N(j),Q=N(u),O=g("weekends");if(!O){Ha(z);Ha(Q,-1,true)}d.title=m(z,$(N(Q),-1),g("titleFormat"));d.start=j;d.end=u;d.visStart=z;d.visEnd=Q;i(1,1,O?7:5,false)}var d=this;d.render=f;ub.call(d,a,b,"basicWeek");var g=d.opt,
i=d.renderBasic,m=b.formatDates}function rc(a,b){function f(j,u){if(u){$(j,u);g("weekends")||Ha(j,u<0?-1:1)}d.title=m(j,g("titleFormat"));d.start=d.visStart=N(j,true);d.end=d.visEnd=$(N(d.start),1);i(1,1,1,false)}var d=this;d.render=f;ub.call(d,a,b,"basicDay");var g=d.opt,i=d.renderBasic,m=b.formatDate}function ub(a,b,f){function d(A,P,H,T){y=P;E=H;g();(P=!l)?i(A,T):B();m(P)}function g(){if(V=L("isRTL")){q=-1;M=E-1}else{q=1;M=0}ba=L("firstDay");ca=L("weekends")?0:1;ka=L("theme")?"ui":"fc";aa=L("columnFormat")}
function i(A,P){var H,T=ka+"-widget-header",fa=ka+"-widget-content",Z;H="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(Z=0;Z<E;Z++)H+="<th class='fc- "+T+"'/>";H+="</tr></thead><tbody>";for(Z=0;Z<A;Z++){H+="<tr class='fc-week"+Z+"'>";for(T=0;T<E;T++)H+="<td class='fc- "+fa+" fc-day"+(Z*E+T)+"'><div>"+(P?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";H+="</tr>"}H+="</tbody></table>";
A=n(H).appendTo(a);ua=A.find("thead");e=ua.find("th");l=A.find("tbody");J=l.find("tr");D=l.find("td");C=D.filter(":first-child");k=J.eq(0).find("div.fc-day-content div");cb(ua.add(ua.find("tr")));cb(J);J.eq(0).addClass("fc-first");z(D);Y=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function m(A){var P=A||y==1,H=p.start.getMonth(),T=Ma(new Date),fa,Z,xa;P&&e.each(function(za,Fa){fa=n(Fa);Z=ha(za);fa.html(wa(Z,aa));tb(fa,Z)});D.each(function(za,Fa){fa=n(Fa);Z=ha(za);Z.getMonth()==
H?fa.removeClass("fc-other-month"):fa.addClass("fc-other-month");+Z==+T?fa.addClass(ka+"-state-highlight fc-today"):fa.removeClass(ka+"-state-highlight fc-today");fa.find("div.fc-day-number").text(Z.getDate());P&&tb(fa,Z)});J.each(function(za,Fa){xa=n(Fa);if(za<y){xa.show();za==y-1?xa.addClass("fc-last"):xa.removeClass("fc-last")}else xa.hide()})}function j(A){o=A;A=o-ua.height();var P,H,T;if(L("weekMode")=="variable")P=H=Math.floor(A/(y==1?2:6));else{P=Math.floor(A/y);H=A-P*(y-1)}C.each(function(fa,
Z){if(fa<y){T=n(Z);ab(T.find("> div"),(fa==y-1?H:P)-Ua(T))}})}function u(A){X=A;R.clear();v=Math.floor(X/E);Xa(e.slice(0,-1),v)}function z(A){A.click(Q).mousedown(W)}function Q(A){if(!L("selectable")){var P=parseInt(this.className.match(/fc\-day(\d+)/)[1]);P=ha(P);c("dayClick",this,P,true,A)}}function O(A,P,H){H&&s.build();H=N(p.visStart);for(var T=$(N(H),E),fa=0;fa<y;fa++){var Z=new Date(Math.max(H,A)),xa=new Date(Math.min(T,P));if(Z<xa){var za;if(V){za=Ea(xa,H)*q+M+1;Z=Ea(Z,H)*q+M+1}else{za=Ea(Z,
H);Z=Ea(xa,H)}z(r(fa,za,fa,Z-1))}$(H,7);$(T,7)}}function r(A,P,H,T){A=s.rect(A,P,H,T,a);return F(A,a)}function w(A){return N(A)}function ga(A,P){O(A,$(N(P),1),true)}function ma(){S()}function ja(A,P,H){var T=ta(A);c("dayClick",D[T.row*E+T.col],A,P,H)}function qa(A,P){K.start(function(H){S();H&&r(H.row,H.col,H.row,H.col)},P)}function ra(A,P,H){var T=K.stop();S();if(T){T=pa(T);c("drop",A,T,true,P,H)}}function ia(A){return N(A.start)}function da(A){return R.left(A)}function sa(A){return R.right(A)}function ta(A){return{row:Math.floor(Ea(A,
p.visStart)/7),col:ea(A.getDay())}}function pa(A){return U(A.row,A.col)}function U(A,P){return $(N(p.visStart),A*7+P*q+M)}function ha(A){return U(Math.floor(A/E),A%E)}function ea(A){return(A-Math.max(ba,ca)+E)%E*q+M}function na(A){return J.eq(A)}function G(){return{left:0,right:X}}var p=this;p.renderBasic=d;p.setHeight=j;p.setWidth=u;p.renderDayOverlay=O;p.defaultSelectionEnd=w;p.renderSelection=ga;p.clearSelection=ma;p.reportDayClick=ja;p.dragStart=qa;p.dragStop=ra;p.defaultEventEnd=ia;p.getHoverListener=
function(){return K};p.colContentLeft=da;p.colContentRight=sa;p.dayOfWeekCol=ea;p.dateCell=ta;p.cellDate=pa;p.cellIsAllDay=function(){return true};p.allDayRow=na;p.allDayBounds=G;p.getRowCnt=function(){return y};p.getColCnt=function(){return E};p.getColWidth=function(){return v};p.getDaySegmentContainer=function(){return Y};Mb.call(p,a,b,f);Nb.call(p);Ob.call(p);sc.call(p);var L=p.opt,c=p.trigger,B=p.clearEvents,F=p.renderOverlay,S=p.clearOverlays,W=p.daySelectionMousedown,wa=b.formatDate,ua,e,l,
J,D,C,k,Y,X,o,v,y,E,s,K,R,V,q,M,ba,ca,ka,aa;sb(a.addClass("fc-grid"));s=new Pb(function(A,P){var H,T,fa;e.each(function(Z,xa){H=n(xa);T=H.offset().left;if(Z)fa[1]=T;fa=[T];P[Z]=fa});fa[1]=T+H.outerWidth();J.each(function(Z,xa){if(Z<y){H=n(xa);T=H.offset().top;if(Z)fa[1]=T;fa=[T];A[Z]=fa}});fa[1]=T+H.outerHeight()});K=new Qb(s);R=new Rb(function(A){return k.eq(A)})}function sc(){function a(U,ha){Q(U);ta(f(U),ha)}function b(){O();ja().empty()}function f(U){var ha=da(),ea=sa(),na=N(i.visStart);ea=$(N(na),
ea);var G=n.map(U,Wa),p,L,c,B,F,S,W=[];for(p=0;p<ha;p++){L=qb(pb(U,G,na,ea));for(c=0;c<L.length;c++){B=L[c];for(F=0;F<B.length;F++){S=B[F];S.row=p;S.level=c;W.push(S)}}$(na,7);$(ea,7)}return W}function d(U,ha,ea){u(U)&&g(U,ha);ea.isEnd&&z(U)&&pa(U,ha,ea);r(U,ha)}function g(U,ha){var ea=qa(),na;ha.draggable({zIndex:9,delay:50,opacity:m("dragOpacity"),revertDuration:m("dragRevertDuration"),start:function(G,p){j("eventDragStart",ha,U,G,p);ga(U,ha);ea.start(function(L,c,B,F){ha.draggable("option","revert",
!L||!B&&!F);ia();if(L){na=B*7+F*(m("isRTL")?-1:1);ra($(N(U.start),na),$(Wa(U),na))}else na=0},G,"drag")},stop:function(G,p){ea.stop();ia();j("eventDragStop",ha,U,G,p);if(na)ma(this,U,na,0,U.allDay,G,p);else{ha.css("filter","");w(U,ha)}}})}var i=this;i.renderEvents=a;i.compileDaySegs=f;i.clearEvents=b;i.bindDaySeg=d;Sb.call(i);var m=i.opt,j=i.trigger,u=i.isEventDraggable,z=i.isEventResizable,Q=i.reportEvents,O=i.reportEventClear,r=i.eventElementHandlers,w=i.showEvents,ga=i.hideEvents,ma=i.eventDrop,
ja=i.getDaySegmentContainer,qa=i.getHoverListener,ra=i.renderDayOverlay,ia=i.clearOverlays,da=i.getRowCnt,sa=i.getColCnt,ta=i.renderDaySegs,pa=i.resizableDayEvent}function tc(a,b){function f(j,u){u&&$(j,u*7);j=$(N(j),-((j.getDay()-g("firstDay")+7)%7));u=$(N(j),7);var z=N(j),Q=N(u),O=g("weekends");if(!O){Ha(z);Ha(Q,-1,true)}d.title=m(z,$(N(Q),-1),g("titleFormat"));d.start=j;d.end=u;d.visStart=z;d.visEnd=Q;i(O?7:5)}var d=this;d.render=f;Tb.call(d,a,b,"agendaWeek");var g=d.opt,i=d.renderAgenda,m=b.formatDates}
function uc(a,b){function f(j,u){if(u){$(j,u);g("weekends")||Ha(j,u<0?-1:1)}u=N(j,true);var z=$(N(u),1);d.title=m(j,g("titleFormat"));d.start=d.visStart=u;d.end=d.visEnd=z;i(1)}var d=this;d.render=f;Tb.call(d,a,b,"agendaDay");var g=d.opt,i=d.renderAgenda,m=b.formatDate}function Tb(a,b,f){function d(h){Da=h;g();E?D():i();m()}function g(){Ya=l("theme")?"ui":"fc";Ub=l("weekends")?0:1;Vb=l("firstDay");if(Wb=l("isRTL")){Ia=-1;Ja=Da-1}else{Ia=1;Ja=0}Na=ob(l("minTime"));db=ob(l("maxTime"));Xb=l("columnFormat")}
function i(){var h=Ya+"-widget-header",I=Ya+"-widget-content",x,t,oa,ya,Aa,Ba=l("slotMinutes")%15==0;x="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(t=0;t<Da;t++)x+="<th class='fc- fc-col"+t+" "+h+"'/>";x+="<th class='fc-agenda-gutter "+h+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(t=0;t<Da;t++)x+="<td class='fc- fc-col"+t+" "+I+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";
x+="<td class='fc-agenda-gutter "+I+"'>&nbsp;</td></tr></tbody></table>";E=n(x).appendTo(a);s=E.find("thead");K=s.find("th").slice(1,-1);R=E.find("tbody");V=R.find("td").slice(0,-1);q=V.find("div.fc-day-content div");M=V.eq(0);ba=M.find("> div");cb(s.add(s.find("tr")));cb(R.add(R.find("tr")));za=s.find("th:first");Fa=E.find(".fc-agenda-gutter");ca=n("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(l("allDaySlot")){ka=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ca);
x="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+l("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+h+" fc-agenda-gutter'>&nbsp;</th></tr></table>";A=n(x).appendTo(ca);P=A.find("tr");r(P.find("td"));za=za.add(A.find("th:first"));Fa=Fa.add(A.find("th.fc-agenda-gutter"));ca.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")}else ka=n([]);H=n("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ca);
T=n("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(H);fa=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(T);aa=n("<div style='position:absolute;z-index:-1;top:0;left:0'/>").appendTo(T);x="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";oa=Bb();ya=va(N(oa),db);va(oa,Na);for(t=vb=0;oa<ya;t++){Aa=oa.getMinutes();x+="<tr class='fc-slot"+t+" "+(!Aa?"":"fc-minor")+"'><th class='fc-agenda-axis "+h+"'>"+(!Ba||!Aa?y(oa,l("axisFormat")):
"&nbsp;")+"</th><td class='"+I+"'><div style='position:relative'>&nbsp;</div></td></tr>";va(oa,l("slotMinutes"));vb++}x+="</tbody></table>";Z=n(x).appendTo(T);xa=Z.find("div:first");w(Z.find("td"));za=za.add(Z.find("th:first"))}function m(){var h,I,x,t,oa=Ma(new Date);for(h=0;h<Da;h++){t=pa(h);I=K.eq(h);I.html(y(t,Xb));x=V.eq(h);+t==+oa?x.addClass(Ya+"-state-highlight fc-today"):x.removeClass(Ya+"-state-highlight fc-today");tb(I.add(x),t)}}function j(h,I){if(h===la)h=Yb;Yb=h;wb={};var x=R.position().top,
t=H.position().top;h=Math.min(h-x,Z.height()+t+1);ba.height(h-Ua(M));ca.css("top",x);H.height(h-t-1);Za=xa.height()+1;I&&z()}function u(h){Zb=h;eb.clear();Oa=0;Xa(za.width("").each(function(I,x){Oa=Math.max(Oa,n(x).outerWidth())}),Oa);h=H[0].clientWidth;if(xb=H.width()-h){Xa(Fa,xb);Fa.show().prev().removeClass("fc-last")}else Fa.hide().prev().addClass("fc-last");fb=Math.floor((h-Oa)/Da);Xa(K.slice(0,-1),fb)}function z(){function h(){H.scrollTop(t)}var I=Bb(),x=N(I);x.setHours(l("firstHour"));var t=
ea(I,x)+1;h();setTimeout(h,0)}function Q(){$b=H.scrollTop()}function O(){H.scrollTop($b)}function r(h){h.click(ga).mousedown(o)}function w(h){h.click(ga).mousedown(S)}function ga(h){if(!l("selectable")){var I=Math.min(Da-1,Math.floor((h.pageX-E.offset().left-Oa)/fb)),x=pa(I),t=this.parentNode.className.match(/fc-slot(\d+)/);if(t){t=parseInt(t[1])*l("slotMinutes");var oa=Math.floor(t/60);x.setHours(oa);x.setMinutes(t%60+Na);J("dayClick",V[I],x,false,h)}else J("dayClick",V[I],x,true,h)}}function ma(h,
I,x){x&&Pa.build();var t=N(e.visStart);if(Wb){x=Ea(I,t)*Ia+Ja+1;h=Ea(h,t)*Ia+Ja+1}else{x=Ea(h,t);h=Ea(I,t)}x=Math.max(0,x);h=Math.min(Da,h);x<h&&r(ja(0,x,0,h-1))}function ja(h,I,x,t){h=Pa.rect(h,I,x,t,ca);return C(h,ca)}function qa(h,I){for(var x=N(e.visStart),t=$(N(x),1),oa=0;oa<Da;oa++){var ya=new Date(Math.max(x,h)),Aa=new Date(Math.min(t,I));if(ya<Aa){var Ba=oa*Ia+Ja;Ba=Pa.rect(0,Ba,0,Ba,T);ya=ea(x,ya);Aa=ea(x,Aa);Ba.top=ya;Ba.height=Aa-ya;w(C(Ba,T))}$(x,1);$(t,1)}}function ra(h){for(var I="",
x=0;x<h.length;x++){var t=h[x];if(t.start>=this.start&&t.end<=this.end){var oa=ea(t.start,t.start),ya=ea(t.end,t.end)-oa,Aa=Ea(t.start,e.visStart),Ba=ia(Aa)-2;Aa=da(Aa)+3-Ba;var gb="";if(t.cls)gb=" "+t.cls;var Ka="";if(t.color)Ka="color:"+t.color+";";if(t.background)Ka+="background:"+t.background+";";I+='<div style="position: absolute; top: '+oa+"px; left: "+Ba+"px; width: "+Aa+"px; height: "+ya+"px;"+Ka+'" class="fc-annotation fc-annotation-skin'+gb+'">'+(t.title||"")+"</div>"}}aa[0].innerHTML=I}
function ia(h){return eb.left(h)}function da(h){return eb.right(h)}function sa(h){return{row:Math.floor(Ea(h,e.visStart)/7),col:ha(h.getDay())}}function ta(h){var I=pa(h.col);h=h.row;l("allDaySlot")&&h--;h>=0&&va(I,Na+h*l("slotMinutes"));return I}function pa(h){return $(N(e.visStart),h*Ia+Ja)}function U(h){return l("allDaySlot")&&!h.row}function ha(h){return(h-Math.max(Vb,Ub)+Da)%Da*Ia+Ja}function ea(h,I){h=N(h,true);if(I<va(N(h),Na))return 0;if(I>=va(N(h),db))return Z.height();h=l("slotMinutes");
I=I.getHours()*60+I.getMinutes()-Na;var x=Math.floor(I/h),t=wb[x];if(t===la)t=wb[x]=Z.find("tr:eq("+x+") td div")[0].offsetTop;return Math.max(0,Math.round(t-1+Za*(I%h/h)))}function na(){return{left:Oa,right:Zb-xb}}function G(){return P}function p(h){var I=N(h.start);if(h.allDay)return I;return va(I,l("defaultEventMinutes"))}function L(h,I){if(I)return N(h);return va(N(h),l("slotMinutes"))}function c(h,I,x){if(x)l("allDaySlot")&&ma(h,$(N(I),1),true);else B(h,I)}function B(h,I){var x=l("selectHelper");
Pa.build();if(x){var t=Ea(h,e.visStart)*Ia+Ja;if(t>=0&&t<Da){t=Pa.rect(0,t,0,t,T);var oa=ea(h,h),ya=ea(h,I);if(ya>oa){t.top=oa;t.height=ya-oa;t.left+=2;t.width-=5;if(n.isFunction(x)){if(h=x(h,I)){t.position="absolute";t.zIndex=8;Ga=n(h).css(t).appendTo(T)}}else{t.isStart=true;t.isEnd=true;Ga=n(v({title:"",start:h,end:I,className:["fc-select-helper"],editable:false},t));Ga.css("opacity",l("dragOpacity"))}if(Ga){w(Ga);T.append(Ga);Xa(Ga,t.width,true);Gb(Ga,t.height,true)}}}}else qa(h,I)}function F(){k();
if(Ga){Ga.remove();Ga=null}}function S(h){if(h.which==1&&l("selectable")){X(h);var I;Ta.start(function(x,t){F();if(x&&x.col==t.col&&!U(x)){t=ta(t);x=ta(x);I=[t,va(N(t),l("slotMinutes")),x,va(N(x),l("slotMinutes"))].sort(Ib);B(I[0],I[3])}else I=null},h);n(document).one("mouseup",function(x){Ta.stop();if(I){+I[0]==+I[1]&&W(I[0],false,x);Y(I[0],I[3],false,x)}})}}function W(h,I,x){J("dayClick",V[ha(h.getDay())],h,I,x)}function wa(h,I){Ta.start(function(x){k();if(x)if(U(x))ja(x.row,x.col,x.row,x.col);
else{x=ta(x);var t=va(N(x),l("defaultEventMinutes"));qa(x,t)}},I)}function ua(h,I,x){var t=Ta.stop();k();t&&J("drop",h,ta(t),U(t),I,x)}var e=this;e.renderAgenda=d;e.setWidth=u;e.setHeight=j;e.beforeHide=Q;e.afterShow=O;e.defaultEventEnd=p;e.timePosition=ea;e.dayOfWeekCol=ha;e.dateCell=sa;e.cellDate=ta;e.cellIsAllDay=U;e.allDayRow=G;e.allDayBounds=na;e.getHoverListener=function(){return Ta};e.colContentLeft=ia;e.colContentRight=da;e.getDaySegmentContainer=function(){return ka};e.getSlotSegmentContainer=
function(){return fa};e.getAnnotationSegmentContainer=function(){return aa};e.getMinMinute=function(){return Na};e.getMaxMinute=function(){return db};e.getBodyContent=function(){return T};e.getRowCnt=function(){return 1};e.getColCnt=function(){return Da};e.getColWidth=function(){return fb};e.getSlotHeight=function(){return Za};e.defaultSelectionEnd=L;e.renderDayOverlay=ma;e.renderSelection=c;e.clearSelection=F;e.reportDayClick=W;e.dragStart=wa;e.dragStop=ua;e.renderAnnotations=ra;Mb.call(e,a,b,f);
Nb.call(e);Ob.call(e);vc.call(e);var l=e.opt,J=e.trigger,D=e.clearEvents,C=e.renderOverlay,k=e.clearOverlays,Y=e.reportSelection,X=e.unselect,o=e.daySelectionMousedown,v=e.slotSegHtml,y=b.formatDate,E,s,K,R,V,q,M,ba,ca,ka,aa,A,P,H,T,fa,Z,xa,za,Fa,Ga,Zb,Yb,Oa,fb,xb,Za,$b,Da,vb,Pa,Ta,eb,wb={},Ya,Vb,Ub,Wb,Ia,Ja,Na,db,Xb;sb(a.addClass("fc-agenda"));Pa=new Pb(function(h,I){function x(hb){return Math.max(Ba,Math.min(gb,hb))}var t,oa,ya;K.each(function(hb,wc){t=n(wc);oa=t.offset().left;if(hb)ya[1]=oa;ya=
[oa];I[hb]=ya});ya[1]=oa+t.outerWidth();if(l("allDaySlot")){t=P;oa=t.offset().top;h[0]=[oa,oa+t.outerHeight()]}for(var Aa=T.offset().top,Ba=H.offset().top,gb=Ba+H.outerHeight(),Ka=0;Ka<vb;Ka++)h.push([x(Aa+Za*Ka),x(Aa+Za*(Ka+1))])});Ta=new Qb(Pa);eb=new Rb(function(h){return q.eq(h)})}function vc(){function a(o,v){ra(o);var y,E=o.length,s=[],K=[];for(y=0;y<E;y++)o[y].allDay?s.push(o[y]):K.push(o[y]);if(w("allDaySlot")){L(f(s),v);sa()}i(d(K),v)}function b(){ia();ta().empty();pa().empty()}function f(o){o=
qb(pb(o,n.map(o,Wa),r.visStart,r.visEnd));var v,y=o.length,E,s,K,R=[];for(v=0;v<y;v++){E=o[v];for(s=0;s<E.length;s++){K=E[s];K.row=0;K.level=v;R.push(K)}}return R}function d(o){var v=B(),y=ea(),E=ha(),s=va(N(r.visStart),y),K=n.map(o,g),R,V,q,M,ba,ca,ka=[];for(R=0;R<v;R++){V=qb(pb(o,K,s,va(N(s),E-y)));xc(V);for(q=0;q<V.length;q++){M=V[q];for(ba=0;ba<M.length;ba++){ca=M[ba];ca.col=R;ca.level=q;ka.push(ca)}}$(s,1,true)}return ka}function g(o){return o.end?N(o.end):va(N(o.start),w("defaultEventMinutes"))}
function i(o,v){var y,E=o.length,s,K,R,V,q,M,ba,ca,ka,aa="",A,P,H={},T={},fa=pa(),Z;y=B();if(A=w("isRTL")){P=-1;Z=y-1}else{P=1;Z=0}for(y=0;y<E;y++){s=o[y];K=s.event;R=na(s.start,s.start);V=na(s.start,s.end);q=s.col;M=s.level;ba=s.forward||0;ca=G(q*P+Z);ka=p(q*P+Z)-ca;ka=Math.min(ka-6,ka*0.95);q=M?ka/(M+ba+1):ba?(ka/(ba+1)-6)*2:ka;M=ca+ka/(M+ba+1)*M*P+(A?ka-q:0);s.top=R;s.left=M;s.outerWidth=q;s.outerHeight=V-R;aa+=m(K,s)}fa[0].innerHTML=aa;A=fa.children();for(y=0;y<E;y++){s=o[y];K=s.event;aa=n(A[y]);
P=ga("eventRender",K,K,aa);if(P===false)aa.remove();else{if(P&&P!==true){aa.remove();aa=n(P).css({position:"absolute",top:s.top,left:s.left}).appendTo(fa)}s.element=aa;if(K._id===v)u(K,aa,s);else aa[0]._fci=y;wa(K,aa)}}Fb(fa,o,u);for(y=0;y<E;y++){s=o[y];if(aa=s.element){K=H[v=s.key=Kb(aa[0])];s.vsides=K===la?(H[v]=Ua(aa,true)):K;K=T[v];s.hsides=K===la?(T[v]=rb(aa,true)):K;v=aa.find("div.fc-event-content");if(v.length)s.contentTop=v[0].offsetTop}}for(y=0;y<E;y++){s=o[y];if(aa=s.element){aa[0].style.width=
Math.max(0,s.outerWidth-s.hsides)+"px";H=Math.max(0,s.outerHeight-s.vsides);aa[0].style.height=H+"px";K=s.event;if(s.contentTop!==la&&H-s.contentTop<10){aa.find("div.fc-event-time").text(Y(K.start,w("timeFormat"))+" - "+K.title);aa.find("div.fc-event-title").remove()}ga("eventAfterRender",K,K,aa)}}}function m(o,v){var y="<",E=o.url,s=Lb(o,w),K=s?" style='"+s+"'":"",R=["fc-event","fc-event-skin","fc-event-vert"];ma(o)&&R.push("fc-event-draggable");v.isStart&&R.push("fc-corner-top");v.isEnd&&R.push("fc-corner-bottom");
R=R.concat(o.className);if(o.source)R=R.concat(o.source.className||[]);y+=E?"a href='"+Sa(o.url)+"'":"div";y+=" class='"+R.join(" ")+"' style='position:absolute;z-index:8;top:"+v.top+"px;left:"+v.left+"px;"+s+"'><div class='fc-event-inner fc-event-skin'"+K+"><div class='fc-event-head fc-event-skin'"+K+"><div class='fc-event-time'>"+Sa(X(o.start,o.end,w("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Sa(o.title)+"</div></div><div class='fc-event-bg'></div></div>";
if(v.isEnd&&ja(o))y+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";y+="</"+(E?"a":"div")+">";return y}function j(o,v,y){ma(o)&&z(o,v,y.isStart);y.isEnd&&ja(o)&&c(o,v,y);da(o,v)}function u(o,v,y){var E=v.find("div.fc-event-time");ma(o)&&Q(o,v,E);y.isEnd&&ja(o)&&O(o,v,E);da(o,v)}function z(o,v,y){function E(){if(!R){v.width(s).height("").draggable("option","grid",null);R=true}}var s,K,R=true,V,q=w("isRTL")?-1:1,M=U(),ba=F(),ca=S(),ka=ea();v.draggable({zIndex:9,opacity:w("dragOpacity","month"),
revertDuration:w("dragRevertDuration"),start:function(aa,A){ga("eventDragStart",v,o,aa,A);e(o,v);s=v.width();M.start(function(P,H,T,fa){C();if(P){K=false;V=fa*q;if(P.row)if(y){if(R){v.width(ba-10);Gb(v,ca*Math.round((o.end?(o.end-o.start)/yc:w("defaultEventMinutes"))/w("slotMinutes")));v.draggable("option","grid",[ba,1]);R=false}}else K=true;else{D($(N(o.start),V),$(Wa(o),V));E()}K=K||R&&!V}else{E();K=true}v.draggable("option","revert",K)},aa,"drag")},stop:function(aa,A){M.stop();C();ga("eventDragStop",
v,o,aa,A);if(K){E();v.css("filter","");ua(o,v)}else{var P=0;R||(P=Math.round((v.offset().top-W().offset().top)/ca)*w("slotMinutes")+ka-(o.start.getHours()*60+o.start.getMinutes()));l(this,o,V,P,R,aa,A)}}})}function Q(o,v,y){function E(P){var H=va(N(o.start),P),T;if(o.end)T=va(N(o.end),P);y.text(X(H,T,w("timeFormat")))}function s(){if(R){y.css("display","");v.draggable("option","grid",[aa,A]);R=false}}var K,R=false,V,q,M,ba=w("isRTL")?-1:1,ca=U(),ka=B(),aa=F(),A=S();v.draggable({zIndex:9,scroll:false,
grid:[aa,A],axis:ka==1?"y":false,opacity:w("dragOpacity"),revertDuration:w("dragRevertDuration"),start:function(P,H){ga("eventDragStart",v,o,P,H);e(o,v);K=v.position();q=M=0;ca.start(function(T,fa,Z,xa){v.draggable("option","revert",!T);C();if(T){V=xa*ba;if(w("allDaySlot")&&!T.row){if(!R){R=true;y.hide();v.draggable("option","grid",null)}D($(N(o.start),V),$(Wa(o),V))}else s()}},P,"drag")},drag:function(P,H){q=Math.round((H.position.top-K.top)/A)*w("slotMinutes");if(q!=M){R||E(q);M=q}},stop:function(P,
H){var T=ca.stop();C();ga("eventDragStop",v,o,P,H);if(T&&(V||q||R))l(this,o,V,R?0:q,R,P,H);else{s();v.css("filter","");v.css(K);E(0);ua(o,v)}}})}function O(o,v,y){var E,s,K=S();v.resizable({handles:{s:"div.ui-resizable-s"},grid:K,start:function(R,V){E=s=0;e(o,v);v.css("z-index",9);ga("eventResizeStart",this,o,R,V)},resize:function(R,V){E=Math.round((Math.max(K,v.height())-V.originalSize.height)/K);if(E!=s){y.text(X(o.start,!E&&!o.end?null:va(qa(o),w("slotMinutes")*E),w("timeFormat")));s=E}},stop:function(R,
V){ga("eventResizeStop",this,o,R,V);if(E)J(this,o,0,w("slotMinutes")*E,R,V);else{v.css("z-index",8);ua(o,v)}}})}var r=this;r.renderEvents=a;r.compileDaySegs=f;r.clearEvents=b;r.slotSegHtml=m;r.bindDaySeg=j;Sb.call(r);var w=r.opt,ga=r.trigger,ma=r.isEventDraggable,ja=r.isEventResizable,qa=r.eventEnd,ra=r.reportEvents,ia=r.reportEventClear,da=r.eventElementHandlers,sa=r.setHeight,ta=r.getDaySegmentContainer,pa=r.getSlotSegmentContainer,U=r.getHoverListener,ha=r.getMaxMinute,ea=r.getMinMinute,na=r.timePosition,
G=r.colContentLeft,p=r.colContentRight,L=r.renderDaySegs,c=r.resizableDayEvent,B=r.getColCnt,F=r.getColWidth,S=r.getSlotHeight,W=r.getBodyContent,wa=r.reportEventElement,ua=r.showEvents,e=r.hideEvents,l=r.eventDrop,J=r.eventResize,D=r.renderDayOverlay,C=r.clearOverlays,k=r.calendar,Y=k.formatDate,X=k.formatDates}function xc(a){var b,f,d,g,i,m;for(b=a.length-1;b>0;b--){g=a[b];for(f=0;f<g.length;f++){i=g[f];for(d=0;d<a[b-1].length;d++){m=a[b-1][d];if(Eb(i,m))m.forward=Math.max(m.forward||0,(i.forward||
0)+1)}}}}function Mb(a,b,f){function d(G,p){G=na[G];if(typeof G=="object")return lb(G,p||f);return G}function g(G,p){return b.trigger.apply(b,[G,p||da].concat(Array.prototype.slice.call(arguments,2),[da]))}function i(G){return j(G)&&!d("disableDragging")}function m(G){return j(G)&&!d("disableResizing")}function j(G){return Va(G.editable,(G.source||{}).editable,d("editable"))}function u(G){U={};var p,L=G.length,c;for(p=0;p<L;p++){c=G[p];if(U[c._id])U[c._id].push(c);else U[c._id]=[c]}}function z(G){return G.end?
N(G.end):sa(G)}function Q(G,p){ha.push(p);if(ea[G._id])ea[G._id].push(p);else ea[G._id]=[p]}function O(){ha=[];ea={}}function r(G,p){p.click(function(L){if(!p.hasClass("ui-draggable-dragging")&&!p.hasClass("ui-resizable-resizing"))return g("eventClick",this,G,L)}).hover(function(L){g("eventMouseover",this,G,L)},function(L){g("eventMouseout",this,G,L)})}function w(G,p){ma(G,p,"show")}function ga(G,p){ma(G,p,"hide")}function ma(G,p,L){G=ea[G._id];var c,B=G.length;for(c=0;c<B;c++)if(!p||G[c][0]!=p[0])G[c][L]()}
function ja(G,p,L,c,B,F,S){var W=p.allDay,wa=p._id;ra(U[wa],L,c,B);g("eventDrop",G,p,L,c,B,function(){ra(U[wa],-L,-c,W);pa(wa)},F,S);pa(wa)}function qa(G,p,L,c,B,F){var S=p._id;ia(U[S],L,c);g("eventResize",G,p,L,c,function(){ia(U[S],-L,-c);pa(S)},B,F);pa(S)}function ra(G,p,L,c){L=L||0;for(var B,F=G.length,S=0;S<F;S++){B=G[S];if(c!==la)B.allDay=c;va($(B.start,p,true),L);if(B.end)B.end=va($(B.end,p,true),L);ta(B,na)}}function ia(G,p,L){L=L||0;for(var c,B=G.length,F=0;F<B;F++){c=G[F];c.end=va($(z(c),
p,true),L);ta(c,na)}}var da=this;da.element=a;da.calendar=b;da.name=f;da.opt=d;da.trigger=g;da.isEventDraggable=i;da.isEventResizable=m;da.reportEvents=u;da.eventEnd=z;da.reportEventElement=Q;da.reportEventClear=O;da.eventElementHandlers=r;da.showEvents=w;da.hideEvents=ga;da.eventDrop=ja;da.eventResize=qa;var sa=da.defaultEventEnd,ta=b.normalizeEvent,pa=b.reportEventChange,U={},ha=[],ea={},na=b.options}function Sb(){function a(e,l){var J=B(),D=pa(),C=U(),k=0,Y,X,o=e.length,v,y;J[0].innerHTML=f(e);
d(e,J.children());g(e);i(e,J,l);m(e);j(e);u(e);l=z();for(J=0;J<D;J++){Y=[];for(X=0;X<C;X++)Y[X]=0;for(;k<o&&(v=e[k]).row==J;){X=Jb(Y.slice(v.startCol,v.endCol));v.top=X;X+=v.outerHeight;for(y=v.startCol;y<v.endCol;y++)Y[y]=X;k++}l[J].height(Jb(Y))}O(e,Q(l))}function b(e,l,J){var D=n("<div/>"),C=B(),k=e.length,Y;D[0].innerHTML=f(e);D=D.children();C.append(D);d(e,D);m(e);j(e);u(e);O(e,Q(z()));D=[];for(C=0;C<k;C++)if(Y=e[C].element){e[C].row===l&&Y.css("top",J);D.push(Y[0])}return n(D)}function f(e){var l=
ga("isRTL"),J,D=e.length,C,k,Y,X;J=ea();var o=J.left,v=J.right,y,E,s,K,R,V="";for(J=0;J<D;J++){C=e[J];k=C.event;X=["fc-event","fc-event-skin","fc-event-hori"];ja(k)&&X.push("fc-event-draggable");if(l){C.isStart&&X.push("fc-corner-right");C.isEnd&&X.push("fc-corner-left");y=p(C.end.getDay()-1);E=p(C.start.getDay());s=C.isEnd?na(y):o;K=C.isStart?G(E):v}else{C.isStart&&X.push("fc-corner-left");C.isEnd&&X.push("fc-corner-right");y=p(C.start.getDay());E=p(C.end.getDay()-1);s=C.isStart?na(y):o;K=C.isEnd?
G(E):v}X=X.concat(k.className);if(k.source)X=X.concat(k.source.className||[]);Y=k.url;R=Lb(k,ga);V+=Y?"<a href='"+Sa(Y)+"'":"<div";V+=" class='"+X.join(" ")+"' style='position:absolute;z-index:8;left:"+s+"px;"+R+"'><div class='fc-event-inner fc-event-skin'"+(R?" style='"+R+"'":"")+">";if(!k.allDay&&C.isStart)V+="<span class='fc-event-time'>"+Sa(S(k.start,k.end,ga("timeFormat")))+"</span>";V+="<span class='fc-event-title'>"+Sa(k.title)+"</span></div>";if(C.isEnd&&qa(k))V+="<div class='ui-resizable-handle ui-resizable-"+
(l?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";V+="</"+(Y?"a":"div")+">";C.left=s;C.outerWidth=K-s;C.startCol=y;C.endCol=E+1}return V}function d(e,l){var J,D=e.length,C,k,Y;for(J=0;J<D;J++){C=e[J];k=C.event;Y=n(l[J]);k=ma("eventRender",k,k,Y);if(k===false)Y.remove();else{if(k&&k!==true){k=n(k).css({position:"absolute",left:C.left});Y.replaceWith(k);Y=k}C.element=Y}}}function g(e){var l,J=e.length,D,C;for(l=0;l<J;l++){D=e[l];(C=D.element)&&ia(D.event,C)}}function i(e,l,J){var D,C=e.length,k,Y,X;for(D=0;D<
C;D++){k=e[D];if(Y=k.element){X=k.event;if(X._id===J)F(X,Y,k);else Y[0]._fci=D}}Fb(l,e,F)}function m(e){var l,J=e.length,D,C,k,Y,X={};for(l=0;l<J;l++){D=e[l];if(C=D.element){k=D.key=Kb(C[0]);Y=X[k];if(Y===la)Y=X[k]=rb(C,true);D.hsides=Y}}}function j(e){var l,J=e.length,D,C;for(l=0;l<J;l++){D=e[l];if(C=D.element)C[0].style.width=Math.max(0,D.outerWidth-D.hsides)+"px"}}function u(e){var l,J=e.length,D,C,k,Y,X={};for(l=0;l<J;l++){D=e[l];if(C=D.element){k=D.key;Y=X[k];if(Y===la)Y=X[k]=Hb(C);D.outerHeight=
C[0].offsetHeight+Y}}}function z(){var e,l=pa(),J=[];for(e=0;e<l;e++)J[e]=ha(e).find("td:first div.fc-day-content > div");return J}function Q(e){var l,J=e.length,D=[];for(l=0;l<J;l++)D[l]=e[l][0].offsetTop;return D}function O(e,l){var J,D=e.length,C,k;for(J=0;J<D;J++){C=e[J];if(k=C.element){k[0].style.top=l[C.row]+(C.top||0)+"px";C=C.event;ma("eventAfterRender",C,C,k)}}}function r(e,l,J){var D=ga("isRTL"),C=D?"w":"e",k=l.find("div.ui-resizable-"+C),Y=false;sb(l);l.mousedown(function(X){X.preventDefault()}).click(function(X){if(Y){X.preventDefault();
X.stopImmediatePropagation()}});k.mousedown(function(X){function o(ca){ma("eventResizeStop",this,e,ca);n("body").css("cursor","");v.stop();wa();V&&ta(this,e,V,0,ca);setTimeout(function(){Y=false},0)}if(X.which==1){Y=true;var v=w.getHoverListener(),y=pa(),E=U(),s=D?-1:1,K=D?E-1:0,R=l.css("top"),V,q,M=n.extend({},e),ba=L(e.start);ua();n("body").css("cursor",C+"-resize").one("mouseup",o);ma("eventResizeStart",this,e,X);v.start(function(ca,ka){if(ca){var aa=Math.max(ba.row,ca.row);ca=ca.col;if(y==1)aa=
0;if(aa==ba.row)ca=D?Math.min(ba.col,ca):Math.max(ba.col,ca);V=aa*7+ca*s+K-(ka.row*7+ka.col*s+K);ka=$(ra(e),V,true);if(V){M.end=ka;aa=q;q=b(c([M]),J.row,R);q.find("*").css("cursor",C+"-resize");aa&&aa.remove();sa(e)}else if(q){da(e);q.remove();q=null}wa();W(e.start,$(N(ka),1))}},X)}})}var w=this;w.renderDaySegs=a;w.resizableDayEvent=r;var ga=w.opt,ma=w.trigger,ja=w.isEventDraggable,qa=w.isEventResizable,ra=w.eventEnd,ia=w.reportEventElement,da=w.showEvents,sa=w.hideEvents,ta=w.eventResize,pa=w.getRowCnt,
U=w.getColCnt,ha=w.allDayRow,ea=w.allDayBounds,na=w.colContentLeft,G=w.colContentRight,p=w.dayOfWeekCol,L=w.dateCell,c=w.compileDaySegs,B=w.getDaySegmentContainer,F=w.bindDaySeg,S=w.calendar.formatDates,W=w.renderDayOverlay,wa=w.clearOverlays,ua=w.clearSelection}function Ob(){function a(O,r,w){b();r||(r=j(O,w));u(O,r,w);f(O,r,w)}function b(O){if(Q){Q=false;z();m("unselect",null,O)}}function f(O,r,w,ga){Q=true;m("select",null,O,r,w,ga)}function d(O){var r=g.cellDate,w=g.cellIsAllDay,ga=g.getHoverListener(),
ma=g.reportDayClick;if(O.which==1&&i("selectable")){b(O);var ja;ga.start(function(qa,ra){z();if(qa&&w(qa)){ja=[r(ra),r(qa)].sort(Ib);u(ja[0],ja[1],true)}else ja=null},O);n(document).one("mouseup",function(qa){ga.stop();if(ja){+ja[0]==+ja[1]&&ma(ja[0],true,qa);f(ja[0],ja[1],true,qa)}})}}var g=this;g.select=a;g.unselect=b;g.reportSelection=f;g.daySelectionMousedown=d;var i=g.opt,m=g.trigger,j=g.defaultSelectionEnd,u=g.renderSelection,z=g.clearSelection,Q=false;i("selectable")&&i("unselectAuto")&&n(document).mousedown(function(O){var r=
i("unselectCancel");if(r)if(n(O.target).parents(r).length)return;b(O)})}function Nb(){function a(i,m){var j=g.shift();j||(j=n("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));j[0].parentNode!=m[0]&&j.appendTo(m);d.push(j.css(i).show());return j}function b(){for(var i;i=d.shift();)g.push(i.hide().unbind())}var f=this;f.renderOverlay=a;f.clearOverlays=b;var d=[],g=[]}function Pb(a){var b=this,f,d;b.build=function(){f=[];d=[];a(f,d)};b.cell=function(g,i){var m=f.length,j=d.length,
u,z=-1,Q=-1;for(u=0;u<m;u++)if(i>=f[u][0]&&i<f[u][1]){z=u;break}for(u=0;u<j;u++)if(g>=d[u][0]&&g<d[u][1]){Q=u;break}return z>=0&&Q>=0?{row:z,col:Q}:null};b.rect=function(g,i,m,j,u){u=u.offset();return{top:f[g][0]-u.top,left:d[i][0]-u.left,width:d[j][1]-d[i][0],height:f[m][1]-f[g][0]}}}function Qb(a){function b(j){zc(j);j=a.cell(j.pageX,j.pageY);if(!j!=!m||j&&(j.row!=m.row||j.col!=m.col)){if(j){i||(i=j);g(j,i,j.row-i.row,j.col-i.col)}else g(j,i);m=j}}var f=this,d,g,i,m;f.start=function(j,u,z){g=j;
i=m=null;a.build();b(u);d=z||"mousemove";n(document).bind(d,b)};f.stop=function(){n(document).unbind(d,b);return m}}function zc(a){if(a.pageX===la){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Rb(a){function b(m){return d[m]=d[m]||a(m)}var f=this,d={},g={},i={};f.left=function(m){return g[m]=g[m]===la?b(m).position().left:g[m]};f.right=function(m){return i[m]=i[m]===la?f.left(m)+b(m).width():i[m]};f.clear=function(){d={};g={};i={}}}var $a={defaultView:"month",aspectRatio:1.35,
header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan",
"Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*",annotations:[]},
Ac={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Ca=n.fullCalendar={version:"1.5.4"},La=Ca.views={};n.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),f;this.each(function(){var g=n.data(this,"fullCalendar");if(g&&n.isFunction(g[a])){g=g[a].apply(g,
b);if(f===la)f=g;a=="destroy"&&n.removeData(this,"fullCalendar")}});if(f!==la)return f;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=n.extend(true,{},$a,a.isRTL||a.isRTL===la&&$a.isRTL?Ac:{},a);this.each(function(g,i){g=n(i);i=new ac(g,a,d);g.data("fullCalendar",i);i.render()});return this};Ca.sourceNormalizers=[];Ca.sourceFetchers=[];var dc={dataType:"json",cache:false},ec=1;Ca.addDays=$;Ca.cloneDate=N;Ca.parseDate=mb;Ca.parseISO8601=Db;
Ca.parseTime=ob;Ca.formatDate=Qa;Ca.formatDates=kb;var oc=["sun","mon","tue","wed","thu","fri","sat"],Cb=864E5,fc=36E5,yc=6E4,gc={s:function(a){return a.getSeconds()},ss:function(a){return Ra(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Ra(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Ra(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Ra(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Ra(a.getDate())},
ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Ra(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<
12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Qa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Ca.applyAll=bb;La.month=pc;La.basicWeek=qc;La.basicDay=rc;yb({weekMode:"fixed"});La.agendaWeek=tc;La.agendaDay=uc;yb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,
maxTime:24})})(jQuery);
